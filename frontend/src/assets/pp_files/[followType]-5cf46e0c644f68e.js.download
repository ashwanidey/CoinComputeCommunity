(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6955,9309],{73871:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[username]/[followType]",function(){return t(3211)}])},49007:function(n,e,t){"use strict";var i=t(75190),o=t(52322),r=t(2784),a=t(82740),l=t(31504),s=t(29101),d=t(3154);function c(){var n=(0,i.Z)(["\n  .coin-list {\n    a {\n      padding: 4px 8px;\n      background: var(--color-light-neutral-2);\n      border-radius: 33px;\n      color: var(--color-light-neutral-6);\n      display: inline-block;\n      margin-right: 8px;\n      margin-bottom: 8px;\n      font-size: 14px;\n      line-height: 20px;\n      > img {\n        height: 1.2em;\n        margin-right: 4px;\n        vertical-align: text-top;\n        border-radius: 50%;\n      }\n      span {\n        vertical-align: middle;\n      }\n    }\n  }\n"]);return c=function(){return n},n}var u=a.ZP.div.withConfig({componentId:"sc-c8f27625-0"})(c());e.Z=function(n){var e=n.coinList,t=(0,r.useContext)(s.Zy).language;return e&&0!==e.length?(0,o.jsx)(u,{className:"coin-list-box",children:(0,o.jsx)("div",{className:"coin-list",children:e.map((function(n){return(0,o.jsxs)("a",{href:(0,d.rW)("/currencies/".concat(n.slug),t),children:[(0,o.jsx)("img",{src:(0,l.pt)("/static/img/coins/64x64/".concat(n.id,".png"))}),(0,o.jsx)("span",{children:n.symbol})]},n.id)}))})}):null}},58607:function(n,e,t){"use strict";var i=t(75190),o=t(52322),r=t(82740),a=t(87681),l=t(54627),s=t(5632);function d(){var n=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 36px;\n  margin-bottom: 20px;\n  cursor: pointer;\n  ","\n"]);return d=function(){return n},n}var c=r.ZP.div.withConfig({componentId:"sc-b0dfe2da-0"})(d(),a.sw);e.Z=function(n){var e=n.children,t=n.onClick,i=(0,s.useRouter)();return(0,o.jsxs)(c,{children:[(0,o.jsx)(l.Z,{mr:3,onClick:function(){t?t():i.back()}}),(0,o.jsx)("div",{style:{flex:1},children:e})]})}},19766:function(n,e,t){"use strict";var i=t(75190),o=t(52322),r=t(2784),a=t(82740),l=t(78320),s=t(5632),d=t(17073),c=t(17245),u=t(73223),f=t(87712),v=t(87612),p=t(87681),h=t(49159),x=t(49007);function g(){var n=(0,i.Z)(["\n  display: flex;\n  cursor: pointer;\n  padding: 17px 0;\n  ","\n  > button {\n    width: 114px;\n    flex-basis: 114px;\n    ","\n  }\n  .avatar {\n    width: 56px;\n    height: 56px;\n    ","\n  }\n"]);return g=function(){return n},n}function m(){var n=(0,i.Z)(["\n  margin: 0 19px 0 3px;\n  flex: 1;\n  overflow: hidden;\n  .name {\n    & > div {\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    }\n    .nickName {\n      display: flex;\n      align-items: center;\n      color: var(--text-color);\n      font-weight: 600;\n      font-size: 16px;\n      line-height: 26px;\n      gap: 5px;\n      ","\n      > span {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n      .user-title {\n        .icon-certified {\n          font-size: 16px;\n        }\n        .badge {\n          width: 16px;\n          height: 16px;\n        }\n      }\n    }\n    .userName {\n      color: var(--color-light-neutral-5);\n      font-size: 14px;\n      line-height: 21px;\n    }\n  }\n  .biography {\n    margin: 8px 0;\n    line-height: 21px;\n    overflow-wrap: break-word;\n  }\n"]);return m=function(){return n},n}var w=(0,a.ZP)(l.Z).withConfig({componentId:"sc-fb2baae8-0"})(g(),(0,p.CC)("padding: 12px 0"),(0,p.CC)("width: 90px;flex-basis: 90px;"),(0,p.CC)("width: 32px;height: 32px;")),Z=a.ZP.div.withConfig({componentId:"sc-fb2baae8-1"})(m(),(0,p.CC)("font-size: 14px;line-height: 18px;"));e.Z=function(n){var e,t,i,a,l,p=n.data,g=n.eventData,m=n.extraButton,y=n.onClick,j=p.guid,b=p.avatarId,C=p.nickname,k=p.handle,P=p.biography,N=void 0===P?"":P,I=p.originalBiography,T=void 0===I?"":I,R=p.hasFollowed,_=void 0!==R&&R,L=p.projectInfos,S=void 0===L?[]:L,z=(p.authType,(0,s.useRouter)()),F=(0,r.useContext)(v.gX).userInfo,E=(null===F||void 0===F?void 0:F.guid)===j,B=(0,u.V)(N,T,!1).transformedText,M=k===(null===F||void 0===F?void 0:F.username),O=!E&&(0,o.jsx)(f.Z,{size:(0,h.ZP)()?"sm":"md",hasFollowed:_,data:{guid:j,handle:k},eventData:g,style:{padding:0}}),q=m||O;return(0,o.jsxs)(w,{onClick:function(n){null===y||void 0===y||y();var e=n.target,t=document.getSelection();"A"!==(null===e||void 0===e?void 0:e.nodeName)&&"Range"!==(null===t||void 0===t?void 0:t.type)&&(null===z||void 0===z||z.push("/profile/".concat(k)))},className:"user-card__container",children:[(0,o.jsx)(d.Z,{className:"avatar",id:b,avatarUrl:null===(e=M?F:p)||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.url,avatarFrameUrl:null===(l=null===(i=M?F:p)||void 0===i||null===(a=i.frames)||void 0===a?void 0:a.find((function(n){return n.select})))||void 0===l?void 0:l.url}),(0,o.jsxs)(Z,{children:[(0,o.jsxs)("div",{className:"name",children:[(0,o.jsxs)("div",{className:"nickName",children:[(0,o.jsx)("span",{children:C||"Guest"}),(0,o.jsx)(c.Z,{owner:p,displayCertifiedTip:!1,displayBadgeTip:!1})]}),k&&(0,o.jsxs)("div",{className:"userName",children:["@",k]})]}),(0,o.jsx)("div",{className:"biography",children:(0,o.jsx)("div",{children:T&&(0,u.IY)({transformedText:B,showLinkText:!0})})}),(0,o.jsx)(x.Z,{coinList:(0,h.ZP)()?S.slice(0,3):S})]}),q]})}},3211:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return S},default:function(){return z}});var i=t(75190),o=t(52322),r=t(2784),a=t(82740),l=t(38789),s=t(38259),d=t(86058),c=t(48312),u=t(78320),f=t(37881),v=t(5632),p=t(4319),h=t(69309),x=t(15798),g=t.n(x),m=t(62230),w=t(85244),Z=t(82066),y=t(12998),j=t(78225),b=function(n){return(0,j.zh)({baseURL:"".concat(g().env.endpoints.javaApi,"/gravity"),url:"/v3/gravity/follow/query",method:"POST",data:n}).then((function(n){var e,t=n.data;return null===(e=t.data)||void 0===e?void 0:e.userList.map((function(n){var e;return(0,w.Z)((0,m.Z)({},n),{lastScore:null===(e=t.data)||void 0===e?void 0:e.lastScore})}))}))},C=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Z.useInfiniteQuery)(y.Z.followList(1===n.type?"followers":"following"),(function(e){var t=e.pageParam;return b((0,w.Z)((0,m.Z)({},n),{lastScore:t}))}),(0,w.Z)((0,m.Z)({},e),{getNextPageParam:function(n,e){var t=n[n.length-1];return null===t||void 0===t?void 0:t.lastScore}}))},k=t(31504),P=t(25453),N=t(19766),I=t(58607);function T(){var n=(0,i.Z)(["\n  position: relative;\n  padding: 24px 32px;\n  .profile-follow-tabs {\n    margin-top: ",";\n    [data-role='Tab'] {\n      width: 50%;\n      .tab-inner-label {\n        justify-content: center;\n      }\n    }\n    [data-role='container'] {\n      width: 100%;\n    }\n  }\n"]);return T=function(){return n},n}function R(){var n=(0,i.Z)(["\n  width: 100%;\n  height: 1px;\n  background: var(--color-light-neutral-7);\n"]);return R=function(){return n},n}var _=a.ZP.div.withConfig({componentId:"sc-87fe9f10-0"})(T(),l.space150),L=a.ZP.div.withConfig({componentId:"sc-87fe9f10-1"})(R()),S=!0,z=function(){var n=(0,v.useRouter)(),e=n.query.username,t=n.query.followType,i=(0,r.useState)(n.query.followType||"following"),a=i[0],l=i[1],g=(0,P.$G)().t,m={followers:1,following:2},w=[{key:"following",showText:g("Following")},{key:"followers",showText:g("Followers")}],Z=C({type:m[a],handle:e}),y=Z.isLoading,j=Z.data,b=Z.hasNextPage,T=Z.fetchNextPage,R=(Z.error,Z.refetch,(0,r.useMemo)((function(){return(0,c.Z)(null===j||void 0===j?void 0:j.pages)}),[null===j||void 0===j?void 0:j.pages])),S=(0,r.useCallback)((function(n){var e=n.data;n.index;return(0,o.jsx)(N.Z,{data:e,eventData:{enter_from:"".concat(a,"_list")}},null===e||void 0===e?void 0:e.guid)}),[a]),z=!y&&0===(null===R||void 0===R?void 0:R.length);return(0,o.jsxs)(_,{children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(f.ZP,{fontWeight:600,fontSize:24,children:e})}),(0,o.jsx)(L,{}),(0,o.jsx)(s.ZP,{selectedIndex:t,onChange:function(t){var i=t||"following";n.push("/profile/".concat(e,"/").concat(i.toLowerCase())),l(i.toLowerCase())},className:"profile-follow-tabs",children:w.map((function(n){return(0,o.jsx)(d.Z,{value:n.key,children:n.showText},n.key)}))}),!x.isServer&&(0,o.jsx)(o.Fragment,{children:z?(0,o.jsxs)(u.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,o.jsx)("img",{width:"248",src:(0,k.ZP)("/cloud/img/posts/no-follower.png"),alt:"no-follower"}),(0,o.jsx)(f.ZP,{fontSize:[28],fontWeight:700,children:1===m[a]?"No followers yet!":"No following yet!"}),(0,o.jsx)(f.ZP,{fontSize:[16],fontWeight:400,color:"text3",children:1===m[a]?"Go explore, follow some people and write some posts instead!":"You can go to discover and follow the accounts you are interested in!"})]}):(0,o.jsx)(h.default,{data:R,isLoading:y||void 0===j,onReachBottom:T,itemRender:S,endComponent:(0,o.jsx)(p.ZP,{text:"No more Data",img:(0,k.ZP)("/cloud/img/icon/empty.png")}),loadingComp:(0,o.jsx)(p.ZP,{text:"Loading",img:(0,k.ZP)("/cloud/img/icon/loading.png"),spin:!0}),hasNextPage:b,keyField:"gravityId",scrollKey:"".concat(t,"-list")},t)})]})}},69309:function(n,e,t){"use strict";t.r(e);var i=t(52322),o=t(40610),r=t(2784),a=t(15925),l=t(70698),s=t(6583),d=t(90399),c=function(){return 50},u=(0,i.jsx)(a.Z,{size:"lg"}),f=(0,i.jsx)("div",{children:"Loading"}),v=r.forwardRef((function(n,e){var t=n.data,a=n.itemRender,v=n.estimateSize,p=void 0===v?c:v,h=n.hasNextPage,x=void 0!==h&&h,g=n.onReachBottom,m=n.isLoading,w=void 0!==m&&m,Z=n.loadingComp,y=void 0===Z?f:Z,j=n.endComponent,b=void 0===j?null:j,C=n.placeholder,k=void 0===C?u:C,P=n.keyField,N=void 0===P?"id":P,I=n.overscan,T=void 0===I?2:I,R=n.emptyComponent,_=n.onItemIntersect,L=n.intersectionOptions,S=n.enableLoadMore,z=void 0===S||S,F=n.scrollKey,E=r.useRef(null),B=(0,o.oq)({size:t.length+1,parentRef:E,estimateSize:(0,r.useCallback)((function(n){return F&&window[F]&&window[F][n]||p(n)}),[p,F]),overscan:T,windowRef:r.useRef(window),useScroll:o.b}),M=B.virtualItems.length,O=B.virtualItems[M-1],q=O?O.index:-1;(0,r.useImperativeHandle)(e,(function(){return{scrollTop:function(){B.scrollToIndex(0,{align:"start"}),requestAnimationFrame((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}))}}})),(0,d.BR)({lastItemIndex:q,items:t,enabled:x&&!w&&z,onReachBottom:g,bottomOffset:4});var D=(0,r.useMemo)((function(){return a}),[a]),W=(0,l.nf)(_),A=w&&!t.length,U=!w&&!t.length&&R,G=!A&&!U;return(0,i.jsx)(s.U,{ref:E,children:(0,i.jsxs)("div",{style:{height:"".concat(B.totalSize,"px"),width:"100%",position:"relative"},children:[A&&k,U&&R,G&&B.virtualItems.map((function(n){var e=n.index>t.length-1,o=t[n.index],a="".concat((null===o||void 0===o?void 0:o[N])||"virtual-item","-").concat(n.index);return(0,i.jsx)(d.x8,{index:n.index,scrollKey:F,measure:n.measureRef,impressionTracking:function(){return W(o,n.index)},intersectionOptions:L,style:{transform:"translateY(".concat(n.start,"px)")},children:e?x?y:b:r.isValidElement(o)?o:(0,i.jsx)(D,{data:o,index:n.index})},a)}))]})})}));e.default=v},70698:function(n,e,t){"use strict";t.d(e,{nf:function(){return a}});var i=t(62230),o=t(81541),r=t(2784),a=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,t=(0,r.useRef)({});return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];if(!(e&&r.length>0))return null===n||void 0===n?void 0:n.apply(void 0,(0,o.Z)(r));var l=r.join("-"),s=+new Date;return!t.current[l]||s-t.current[l]>e?(t.current[l]=s,null===n||void 0===n?void 0:n.apply(void 0,(0,o.Z)(r))):void 0}};e.ZP=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,r.useRef)(),o=(0,r.useState)(!1),a=o[0],l=o[1];return(0,r.useEffect)((function(){if(t.current){var o=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(null===n||void 0===n||n()),l(e.isIntersecting)}))}),(0,i.Z)({threshold:.2},e));return o.observe(t.current),function(){o.disconnect()}}}),[t.current]),{ref:t,inView:a}}},54627:function(n,e,t){"use strict";var i=t(62230),o=t(85244),r=t(52322),a=(t(2784),t(69591));e.Z=function(n){return(0,r.jsx)(a.Z,(0,o.Z)((0,i.Z)({},n),{children:(0,r.jsx)("path",{d:"M21 12H3M3 12L9.30037 5M3 12L9.30037 19",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}))}}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[2871,8259,9774,2888,179],(function(){return e(412),e(73871)}));var t=n.O();_N_E=t}]);