"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6589],{70599:function(n,t,e){var i;e.d(t,{H:function(){return i}}),function(n){n.Newest="",n.MostRelevant="quality"}(i||(i={}))},40337:function(n,t,e){e.d(t,{GL:function(){return g},Iw:function(){return f},Se:function(){return h},q4:function(){return m}});var i=e(75190),o=e(82740),r=e(96664),a=e(38789),l=e(78320),u=e(87681);function s(){var n=(0,i.Z)(["\n  width: 728px;\n  flex: 1;\n  overflow: auto;\n  ",";\n  "," {\n    width: 100%;\n  }\n  .post-toolbar {\n    > div {\n      justify-self: left;\n      ","\n    }\n  }\n\n  .header-wrapper > div {\n    ","\n  }\n  .tabs-wrapper .comment-display-option {\n    ","\n  }\n  .large-font {\n    .text-wrapper * {\n      font-size: 18px;\n      line-height: 28px;\n    }\n    .text {\n      @media (min-width: ","px) {\n        .post-icon-twitter {\n          width: 18px;\n          height: 18px;\n        }\n        .post-icon-link {\n          width: 14px;\n          height: 14px;\n        }\n      }\n    }\n  }\n\n  .comment-input-wrapper {\n    ","\n    button {\n      height: 32px;\n      font-size: 12px;\n      padding: 0px 5px;\n    }\n  }\n"]);return s=function(){return n},n}function c(){var n=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 38px 0;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  cursor: pointer;\n  color: var(--color-primary-blue);\n"]);return c=function(){return n},n}function d(){var n=(0,i.Z)(["\n  height: 1px;\n  background-color: var(--c-color-gray-200);\n"]);return d=function(){return n},n}function v(){var n=(0,i.Z)(["\n  margin-top: 21px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: var(--c-color-text-secondary);\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.5;\n"]);return v=function(){return n},n}function p(){var n=(0,i.Z)(["\n  padding: 32px 0;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 150%;\n  color: var(--c-color-text-secondary);\n  text-align: center;\n"]);return p=function(){return n},n}var f=o.ZP.main.withConfig({componentId:"sc-95bed91c-0"})(s(),u.FE,r[a.mqMd].down,(0,u.CC)("justify-self: center;"),(0,u.CC)("margin-bottom: 0;"),(0,u.CC)("padding: 16px 0;"),u.AV.XSMALL_MIN,(0,u.CC)("\n      > div {\n        padding-left: 0;\n        padding-right: 0;\n      }\n    ")),g=((0,o.ZP)(l.Z).withConfig({componentId:"sc-95bed91c-1"})(c()),(0,o.ZP)(l.Z).withConfig({componentId:"sc-95bed91c-2"})(d())),m=(0,o.ZP)(l.Z).withConfig({componentId:"sc-95bed91c-3"})(v()),h=(0,o.ZP)(l.Z).withConfig({componentId:"sc-95bed91c-4"})(p())},12273:function(n,t,e){e.d(t,{ZP:function(){return C},pN:function(){return x}});var i=e(52322),o=e(2784),r=e(31557),a=e(61210),l=e(35001),u=e(63082),s=e(8112),c=e(71123),d=e(70599),v=e(75190),p=e(82740),f=e(87681);function g(){var n=(0,v.Z)(["\n  .flex {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  .post-tab {\n    margin-top: 0px;\n    padding-right: 32px;\n    ","\n    &.cmc-app-tab {\n      ","\n    }\n    & > div {\n      flex-basis: auto;\n      margin-right: 36px;\n    }\n  }\n  .tabs-wrapper {\n    display: flex;\n    align-items: center;\n    margin-top: 8px;\n    ","\n  }\n  .comment-display-option {\n    ","\n  }\n  .displayLogic {\n    white-space: nowrap;\n    display: inline-flex;\n    align-items: center;\n    gap: 4px;\n    color: #3861fb;\n    cursor: pointer;\n  }\n"]);return g=function(){return n},n}var m=p.ZP.main.withConfig({componentId:"sc-770fb2b2-0"})(g(),(0,f.CC)("padding: 6px 0;"),(0,f.CC)("padding: 6px 0;"),(0,f.CC)("flex-direction: column;align-items: start;"),(0,f.CC)("padding: 12px 0;")),h=[{key:"Comments",countKey:"commentCount"},{key:"Reposts",countKey:"repostCount"}],x=function(n){var t=h.findIndex((function(t){return t.key===n}));return t>-1?t:0},y=function(n){var t,e=n.commentDisplay,o=n.onCommentDisplayChange,l=(0,s.$G)("gravity").t,u=[{key:d.H.MostRelevant,text:l("Most relevant",{ns:"gravity"}),onClick:function(){o(d.H.MostRelevant)}},{key:d.H.Newest,text:l("Newest",{ns:"gravity"}),onClick:function(){o(d.H.Newest)}}];return(0,i.jsx)("div",{className:"comment-display-option",children:(0,i.jsx)(r.Z,{placement:"bottom-end",arrow:!1,interactive:!1,options:u,selected:e,containerClass:"community-filter_dropdown",children:(0,i.jsxs)("div",{className:"displayLogic",children:[(0,i.jsx)("span",{children:null===(t=u.find((function(n){return n.key===e})))||void 0===t?void 0:t.text}),(0,i.jsx)(a.Z,{size:"16px"})]})})})},C=function(n){var t,e=n.data,r=n.activeIdx,a=n.renderTabItem,s=void 0===a?function(){return null}:a,d=n.onChangeTab,v=n.commentDisplay,p=n.onCommentDisplayChange,f=n.hideDisplayOption,g=void 0!==f&&f,x=n.children,C=(0,o.useState)(0),Z=C[0],I=C[1],L=(0,o.useContext)(u.fL).isGravityApp;return(0,o.useEffect)((function(){"number"===typeof r&&I(r)}),[r]),e?(0,i.jsxs)(m,{className:"post-tab__container",children:[(0,i.jsxs)("div",{className:"tabs-wrapper",children:[(0,i.jsx)(l.Z,{className:["post-tab",L?"":"cmc-app-tab"].filter(Boolean).join(" "),list:h.map((function(n){return n.key})),active:Z,onChangeTab:function(n,t){I(t),null===d||void 0===d||d(t,n)},renderer:function(n){var t=(0,c.J9)(e[function(n){var t;return(null===(t=h.find((function(t){return t.key===n})))||void 0===t?void 0:t.countKey)||"count"}(n)],"0");return"".concat(n," ").concat(t?"(".concat(t,")"):"")}})," ",0!==Z||g?null:(0,i.jsx)(y,{commentDisplay:v,onCommentDisplayChange:p})]}),x,s(Z,null===(t=h[Z])||void 0===t?void 0:t.key)]}):null}},56661:function(n,t,e){e.d(t,{h9:function(){return kn},rq:function(){return Fn},BG:function(){return En},R4:function(){return Gn}});var i=e(62230),o=e(85244),r=e(98240),a=e(81541),l=e(52322),u=e(2784),s=e(48312),c=e(1367),d=e(4319),v=e(6190),p=e(63082),f=e(29101),g=e(96177),m=e(8354),h=e(25084),x=e(8112),y=e(23263),C=e(22710),Z=e(5163),I=e(82066),L=e(12998),b=e(15798),w=e.n(b),j=e(6376),P=e(78225),D=function(n){return(0,P.zh)({baseURL:"".concat(w().env.endpoints.javaApi,"/gravity"),url:"/v3/gravity/comment/query",method:"POST",data:n}).then((function(n){var t,e=n.data,r=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.commentList)||[],a=[];return r.forEach((function(n){var t;a.push((0,o.Z)((0,i.Z)({},(0,j.ie)(n)),{isFirstLayerComment:!0,foldScore:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.foldScore})),n.hottestReply&&(a.push(n.hottestReply),n.hottestReply.hasMoreReply&&a.push({lastLayerGravityId:n.hottestReply.gravityId}))})),a}))},M=function(n){var t=n.gravityId,e=n.commentDisplay,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,I.useInfiniteQuery)(L.Z.comment(t,e),function(){var n=(0,C.Z)((function(n){var i;return(0,Z.__generator)(this,(function(o){return i=n.pageParam,[2,D({parentId:t,version:"v2",lastScore:i,maxStartScore:i,sortBy:e})]}))}));return function(t){return n.apply(this,arguments)}}(),(0,o.Z)((0,i.Z)({},r),{getNextPageParam:function(n){var t=(0,a.Z)(n||[]).reverse().find((function(n){return n.isFirstLayerComment}));return"quality"===e?null===t||void 0===t?void 0:t.score:null===t||void 0===t?void 0:t.postTime}}))},k=e(20025),T=e(55790),R=e(17980),S=function(n,t){var e=n.cryptoId,r=void 0===e?void 0:e,a=n.language,l=function(n){return["post","currency","top","new-cdp","timeline",n.cryptoId]}({cryptoId:r});return(0,I.useInfiniteQuery)(l,(function(n){var t,e=n.pageParam;return t={lastScore:e,language:a,cryptoId:r},(0,P.zh)({baseURL:"".concat(w().env.endpoints.javaApi,"/gravity"),method:w().http.method.POST,url:"/v3/gravity/livechat/time-line",data:{experiment:(0,R.L)(),excludeCryptoId:null===t||void 0===t?void 0:t.cryptoId,languageCode:null===t||void 0===t?void 0:t.language,lastScore:null===t||void 0===t?void 0:t.lastScore,excludePlatform:null===t||void 0===t?void 0:t.platform,excludeAddress:null===t||void 0===t?void 0:t.address}}).then((function(n){var t,e;return null===(t=n.data)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.list.map((function(t){var e;return(0,o.Z)((0,i.Z)({},t),{lastScore:null===(e=n.data)||void 0===e?void 0:e.data.lastScore})}))}))}),(0,i.Z)({getNextPageParam:function(n){var t=n[n.length-1];return null===t||void 0===t?void 0:t.lastScore}},t))},N=e(60644),A=e(55595),_=e(66582),F=e(19956),B=e(66366),E=(0,u.lazy)((function(){return e.e(8115).then(e.bind(e,21103))})),G=function(n){var t=n.isGravityApp;return _.tq?null:(0,l.jsx)(B.Z,{threshold:.2,enable:!0,PlaceHolder:null,children:(0,l.jsx)(u.Suspense,{fallback:null,children:(0,l.jsx)(E,{type:t?F.F.COMMUNITY_POST_DETAIL_FEED_AFTER_FIRST_COMMENT_DESKTOP:F.F.CDP_POST_DETAIL_MODAL_AFTER_FIRST_COMMENT_DESKTOP})})})},O=e(70599),H=e(40337),z=e(72779),q=e.n(z),U=e(78320),K=e(5632),V=e(17073),Q=e(30593),X=e(25716),$=e(92702),W=e(14611),J=e(93223),Y=e(81286),nn=e(15013),tn={profile:{url:function(n,t){return"/profile/".concat(n)}}},en=e(24496),on=e(60536),rn=e(58704),an=e(32184),ln=e(4726),un=e(75190),sn=e(82740),cn=e(87681);function dn(){var n=(0,un.Z)(["\n            .reply-mention {\n              margin-left: -38px;\n            }\n            .post-detail {\n              margin-left: -38px;\n            }\n\n            .post-time-wrapper {\n              margin-left: -38px;\n            }\n          "]);return dn=function(){return n},n}function vn(){var n=(0,un.Z)(["\n  position: relative;\n  cursor: pointer;\n  border-bottom: ",";\n\n  .post-toolbar {\n    padding-bottom: 10px;\n    padding-left: 72px;\n    @media (max-width: ","px) {\n      padding-left: ",";\n      & > div {\n        justify-self: ",";\n      }\n    }\n  }\n  @media (max-width: ","px) {\n    ","\n  }\n\n  .text-wrapper {\n    .more-icon {\n      background-image: linear-gradient(\n        to right,\n        rgba(255, 255, 255, 0.01) 0%,\n        var(--control-background-color),\n        1em,\n        var(--control-background-color)\n      );\n    }\n  }\n"]);return vn=function(){return n},n}function pn(){var n=(0,un.Z)(["\n  .avatar {\n    width: 56px;\n    height: 56px;\n    margin-inline-end: 16px;\n  }\n  &.hasMoreReply {\n    &::after {\n      content: '';\n      position: absolute;\n      left: 28px;\n      top: 60px;\n      width: 0.5px;\n      height: calc(100% - 64px);\n      background-color: #808a9d;\n    }\n  }\n  @media (max-width: ","px) {\n    padding-top: 4px;\n    .avatar {\n      width: 32px;\n      height: 32px;\n      margin-inline-end: 8px;\n    }\n    &.hasMoreReply {\n      &::after {\n        content: '';\n        position: absolute;\n        left: 14px;\n        top: 34px;\n        height: calc(100% - 38px);\n      }\n    }\n  }\n"]);return pn=function(){return n},n}var fn=sn.ZP.div.withConfig({componentId:"sc-f1164240-0"})(vn(),(function(n){return n.showBorderBottom?"1px solid var(--color-light-neutral-2)":""}),cn.AV.XSMALL_MIN,(function(n){return n.indentContent?"38px":"0"}),(function(n){return n.indentContent?"start":"center"}),cn.AV.XSMALL_MIN,(function(n){return n.indentContent?void 0:(0,sn.iv)(dn())})),gn=(0,sn.ZP)(U.Z).withConfig({componentId:"sc-f1164240-1"})(pn(),cn.AV.XSMALL_MIN),mn=function(n){var t,e,r,a,s,c=n.data,d=n.rootPost,v=void 0===d?{}:d,f=n.wrapperProps,g=void 0===f?{}:f,m=n.withReplyMention,h=void 0===m||m,x=n.commentDisplay,y=void 0===x?O.H.MostRelevant:x,C=n.onContentClick,Z=void 0===C?function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e]}:C,I=(0,p.tl)(),L=I.userInfo,b=I.invokeLogin,j=I.isGravityApp,P=(0,u.useState)(null),D=P[0],M=P[1],k=c.gravityId,T=c.textContent,R=c.postTime,S=c.owner,N=void 0===S?{}:S,A=c.originalContent,_=void 0===A?"":A,F=c.replyToOwner,B=c.status,E=c.photoIds,G=c.parentId,H=c.hasMoreReply,z=c.hottestReply,un=c.bullish,sn=c.blockStatus,cn=(0,K.useRouter)(),dn=v.gravityId&&G&&v.gravityId!==G,vn=0===B&&sn!==nn.M3.USER_BLOCKED,pn=(0,an.u)({postData:c}),mn=pn.isNormalStatus,hn=pn.renderSpecialContent,xn=pn.showVotingCard,yn=(null===N||void 0===N?void 0:N.handle)===(null===L||void 0===L?void 0:L.username);return(0,l.jsxs)(U.Z,(0,o.Z)((0,i.Z)({className:"main-comment-reply"},g),{children:[(0,l.jsxs)(fn,{isGravityApp:j,indentContent:H||z,showBorderBottom:dn&&!H||!dn&&!z,onClick:function(){sn!==nn.M3.USER_BLOCKED&&2!==B&&3!==B&&0===B&&j&&cn.push("/post/".concat(k))},children:[(0,l.jsxs)(U.Z,{display:"flex",mt:dn?0:"14px",children:[(0,l.jsx)(gn,{className:q()({hasMoreReply:dn&&H||!dn&&z}),children:(0,l.jsx)(Q.ZP,{guid:N.guid,owner:N,children:(0,l.jsx)(V.Z,{id:null===N||void 0===N?void 0:N.avatarId,onClick:function(n){n.stopPropagation(),j?cn.push(tn.profile.url(null===N||void 0===N?void 0:N.handle,null===N||void 0===N?void 0:N.guid)):window.location=w().basePath+tn.profile.url(null===N||void 0===N?void 0:N.handle,null===N||void 0===N?void 0:N.guid)},style:{cursor:"pointer"},className:"avatar",avatarUrl:null===(t=yn?L:N)||void 0===t||null===(e=t.avatar)||void 0===e?void 0:e.url,avatarFrameUrl:null===(s=null===(r=yn?L:N)||void 0===r||null===(a=r.frames)||void 0===a?void 0:a.find((function(n){return n.select})))||void 0===s?void 0:s.url})})}),(0,l.jsxs)(U.Z,{flex:"1",pb:[1,0],children:[(0,l.jsxs)(U.Z,{display:"flex",alignItems:"center",height:["auto","30px"],children:[(0,l.jsx)(W.Z,{owner:N,postTime:R}),(0,l.jsx)(W.d,{bullish:un})]}),B===nn.b3.NORMAL&&h&&!dn&&(0,l.jsx)(U.Z,{my:["3px"],children:(0,l.jsx)(ln.Z,{replyToOwner:F})}),(0,l.jsx)(U.Z,{mt:dn?"6px":"2px",className:"post-detail",children:mn()?(0,l.jsxs)("main",{onClick:function(n){return null===Z||void 0===Z?void 0:Z(n)},children:[(0,l.jsx)(J.Z,{gravityId:k,textContent:T,originalContent:_,foldHeight:120,photoIds:E,shouldShowLinkCard:!1}),(null===E||void 0===E?void 0:E.length)>0&&(0,l.jsx)(on.p,{photos:E,renderSmallPic:!0,item:c}),xn&&(0,l.jsx)(rn.Z,{data:c,isProPoll:null===N||void 0===N?void 0:N.canPostLongPoll}),(0,l.jsx)(en.Z,{data:c})]}):hn()})]})]}),vn&&(0,l.jsx)($.Z,{data:c,onComment:function(){L?M(c):b()}})]}),D&&(0,l.jsx)(u.Suspense,{fallback:(0,l.jsx)(Y.Z,{}),children:(0,l.jsx)(X.default,{data:D,rootPost:v,commentDisplay:y,isOpen:!0,onClose:function(){M(null)}})})]}))},hn=e(37881);function xn(){var n=(0,un.Z)(["\n  margin: 24px 0;\n  padding: 12px 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 28px;\n  min-height: 68px;\n  background: ",";\n  border-radius: 16px;\n"]);return xn=function(){return n},n}var yn=sn.ZP.div.withConfig({componentId:"sc-4427ade4-0"})(xn(),(function(n){var t=n.isGravityApp,e=n.theme;return t||e.isDay?"var(--color-light-neutral-1)":"var(--bg-color)"})),Cn=function(n){var t=n.onClick,e=(0,u.useContext)(p.fL).isGravityApp;return(0,l.jsxs)(yn,{isGravityApp:e,children:[(0,l.jsx)(hn.ZP,{color:"var(--color-light-neutral-6)",lineHeight:"22px",children:'Irrelevant comments will be hidden. Click "More Replies" to view further comments.'}),(0,l.jsx)(hn.ZP,{color:"var(--color-primary-blue)",style:{whiteSpace:"nowrap",cursor:"pointer"},onClick:function(){null===t||void 0===t||t()},children:"More Replies"})]})},Zn=e(44148),In=e(80965),Ln=e(3154),bn=(0,u.lazy)((function(){return Promise.resolve().then(e.bind(e,25716))})),wn=function(n){var t=n.data,e=(0,K.useRouter)(),i=(0,p.tl)(),o=i.userInfo,r=i.invokeLogin,a=i.isGravityApp,s=(0,u.useState)(!1),c=s[0],d=s[1],v=(0,Ln.OF)().communityLangPrefix;return(0,l.jsxs)(U.Z,{onClick:function(n){var i=document.getSelection();if("Range"!==(null===i||void 0===i?void 0:i.type)){if(a)return e.push("/post/".concat(t.gravityId,"/"));window.open("".concat(v,"/post/").concat(t.gravityId,"/"))}},className:"post-with-reply",style:{cursor:"pointer"},children:[(0,l.jsx)(Zn.C,{data:t,onComment:function(){(null===o||void 0===o?void 0:o.id)?d(!0):r()},showFollowOption:!1}),c&&(0,l.jsx)(u.Suspense,{fallback:(0,l.jsx)(In.Z,{}),children:(0,l.jsx)(bn,{data:t,isOpen:c,onClose:function(){return d(!1)}})})]},null===t||void 0===t?void 0:t.gravityId)},jn=e(38825),Pn=function(n){return(0,P.zh)({baseURL:"".concat(w().env.endpoints.javaApi,"/gravity"),url:"/v3/gravity/continues-reply/query",method:"POST",data:n}).then((function(n){var t=n.data;return null===t||void 0===t?void 0:t.data})).catch((function(){return{}}))},Dn=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,I.useQuery)(L.Z.postSecondaryComments(n.lastReplyId),(function(){return Pn(n)}),t)};function Mn(){var n=(0,un.Z)(["\n  display: flex;\n  align-items: center;\n  padding-bottom: 20px;\n  font-weight: 500;\n  font-size: 14px;\n  height: 46px;\n  color: var(--color-primary-blue);\n  border-bottom: 1px solid var(--color-light-neutral-2);\n  span {\n    display: inline-block;\n    cursor: pointer;\n  }\n  &::before {\n    content: '';\n    display: inline-block;\n    height: 22px;\n    border-left: 0.5px dashed #808a9d;\n    margin: 0 44px 0 28px;\n    @media (max-width: ","px) {\n      margin: 0 24px 0 14px;\n    }\n  }\n"]);return Mn=function(){return n},n}var kn,Tn=(0,sn.ZP)(U.Z).withConfig({componentId:"sc-8da62521-0"})(Mn(),cn.AV.XSMALL_MIN),Rn=function(n){var t=n.gravityId,e=n.rootId,r=n.commentDisplay,s=void 0===r?"":r,c=(0,u.useState)(!1),v=c[0],p=c[1],f=Dn({lastReplyId:t},{staleTime:5e3,enabled:v,onSuccess:function(n,r,l){var u=n||{},c=u.replies,d=u.hasMoreReply,v=u.lastReplyId;c&&0!==c.length?jn.Z.setQueryData(y.Te.comment(e,s),(function(n){var e;if(n)return null===(e=n.pages)||void 0===e||e.forEach((function(e,i){var o=e.findIndex((function(n){return n.lastLayerGravityId===t}));if(-1!==o){var r=c.map((function(n,t){return t!==c.length-1?(n.hasMoreReply=!0,n):(n.hasMoreReply=d,n)}));n.pages[i]=(0,a.Z)(e.slice(0,o)).concat((0,a.Z)(r),(0,a.Z)(d?[{lastLayerGravityId:v}]:[]),(0,a.Z)(e.slice(o+1)))}})),n.pages=(0,a.Z)(n.pages),n})):jn.Z.setQueryData(y.Te.comment(e,s),(function(n){var e;if(n)return null===(e=n.pages)||void 0===e||e.forEach((function(e,r){var l=e.findIndex((function(n){return n.gravityId===t}));if(-1!==l){var u=e.find((function(n){return n.gravityId===t}));n.pages[r]=(0,a.Z)(e.slice(0,l)).concat([(0,o.Z)((0,i.Z)({},u),{hasMoreReply:!1})],(0,a.Z)(e.slice(l+2)))}})),n.pages=(0,a.Z)(n.pages),n}))}}).isLoading;return(0,l.jsx)(Tn,{onClick:function(){f||p(!0)},children:f?(0,l.jsx)(d.ZP,{spin:!0,text:"",wrapperStyle:{padding:0}}):(0,l.jsx)("span",{children:"Show more replies"})})},Sn=function(){return(0,l.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_2300_21165)",children:[(0,l.jsx)("path",{d:"M9.60999 20.0001C9.60999 18.0301 10.07 16.1701 10.88 14.5201L14.09 10.5601L17.81 15.0701C16.43 16.2601 15.55 18.0201 15.55 19.9901",fill:"#8FC7FF"}),(0,l.jsx)("path",{d:"M15.55 21C15 21 14.55 20.55 14.55 20C14.55 18.14 15.24 16.37 16.46 15.01L14.1 12.15L11.73 15.07C10.98 16.61 10.61 18.27 10.61 20C10.61 20.55 10.16 21 9.60999 21C9.05999 21 8.60999 20.55 8.60999 20C8.60999 17.92 9.06999 15.93 9.98999 14.08C10.02 14.01 10.06 13.95 10.11 13.89L13.32 9.93001C13.51 9.70001 13.79 9.56001 14.09 9.56001C14.36 9.53001 14.67 9.69001 14.87 9.92001L18.59 14.43C18.94 14.85 18.88 15.47 18.47 15.83C17.25 16.87 16.56 18.39 16.56 19.99C16.56 20.54 16.11 20.99 15.56 20.99L15.55 21Z",fill:"#0D1421"}),(0,l.jsx)("path",{d:"M4 19.9999C4 15.4799 5.66 11.3399 8.4 8.17993L14.09 10.5699L10.88 14.5299C10.06 16.1799 9.61 18.0399 9.61 20.0099",fill:"#8F97FF"}),(0,l.jsx)("path",{d:"M9.61 20.9999C9.06 20.9999 8.61 20.5499 8.61 19.9999C8.61 17.9199 9.07 15.9299 9.99 14.0799C10.02 14.0099 10.06 13.9499 10.11 13.8899L12.48 10.9699L8.7 9.37994C6.31 12.3899 5 16.1299 5 19.9899C5 20.5399 4.55 20.9899 4 20.9899C3.45 20.9899 3 20.5399 3 19.9899C3 15.3999 4.65 10.9699 7.65 7.50994C7.93 7.17994 8.39 7.06994 8.79 7.23994L14.48 9.62994C14.77 9.74994 14.99 9.99994 15.06 10.3099C15.14 10.6199 15.06 10.9399 14.87 11.1799L11.73 15.0499C10.98 16.5899 10.61 18.2499 10.61 19.9799C10.61 20.5299 10.16 20.9799 9.61 20.9799V20.9999Z",fill:"#0D1421"}),(0,l.jsx)("path",{d:"M14.9238 2.60046L17.0872 6.33129L21.3037 7.24744L18.4338 10.4705L18.8643 14.7643L14.9238 13.0313L10.9722 14.7643L11.4027 10.4705L8.53281 7.24744L12.7493 6.33129L14.9238 2.60046Z",fill:"#FFEA4B"}),(0,l.jsx)("path",{d:"M18.8644 15.868C18.7098 15.868 18.5663 15.8349 18.4228 15.7797L14.9238 14.2344L11.4248 15.7797C11.0605 15.9342 10.6521 15.8901 10.332 15.6583C10.0119 15.4265 9.84635 15.0402 9.87947 14.6538L10.2658 10.8347L7.71603 7.97587C7.45112 7.67785 7.37385 7.26944 7.49527 6.90519C7.61669 6.5299 7.92575 6.25395 8.31208 6.16565L12.0539 5.34884L13.9856 2.03746C14.3829 1.36414 15.4978 1.36414 15.8951 2.03746L17.8268 5.34884L21.5686 6.16565C21.955 6.25395 22.264 6.5299 22.3855 6.90519C22.5069 7.28048 22.4186 7.68889 22.1647 7.97587L19.6149 10.8347L20.0013 14.6538C20.0454 15.0402 19.8688 15.4265 19.5487 15.6583C19.3611 15.8018 19.1293 15.868 18.8975 15.868H18.8644ZM14.9128 11.9275C15.0673 11.9275 15.2108 11.9606 15.3543 12.0158L17.5729 12.9871L17.3301 10.5698C17.297 10.2607 17.3963 9.95166 17.606 9.73091L19.2176 7.92068L16.8554 7.4019C16.5574 7.33567 16.2925 7.14803 16.138 6.88312L14.9238 4.78591L13.7096 6.88312C13.5551 7.14803 13.2902 7.33567 12.9922 7.4019L10.63 7.92068L12.2416 9.73091C12.4513 9.9627 12.5506 10.2718 12.5175 10.5698L12.2747 12.9871L14.4933 12.0158C14.6368 11.9495 14.7913 11.9275 14.9348 11.9275H14.9128Z",fill:"#0D1421"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_2300_21165",children:(0,l.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})},Nn=function(n){var t=n.text,e=(0,r.Z)(n,["text"]);return(0,l.jsxs)(H.Se,(0,o.Z)((0,i.Z)({},e),{children:[(0,l.jsx)(A.Z,{sx:{fontSize:24,marginRight:"9px"}}),t]}))},An=function(){return(0,l.jsx)("div",{style:{height:"200px"}})},_n=function(){var n=(0,x.$G)("gravity-post").t;return(0,l.jsxs)(H.q4,{children:[(0,l.jsx)(Sn,{}),n("What\u2019s happening on Community?",{ns:"gravity-post"})]})};!function(n){n[n.NoData=0]="NoData",n[n.DivideLine=1]="DivideLine",n[n.TimelineTag=2]="TimelineTag",n[n.LoadIrrelevantCommentBtn=3]="LoadIrrelevantCommentBtn",n[n.BSDAd=4]="BSDAd"}(kn||(kn={}));var Fn=16631712e5,Bn=function(n){var t=n.list,e=n.AdFlag,i=function(n){for(var t=0,e=0;e<n.length;e++){var i;if(null===(i=n[e])||void 0===i?void 0:i.isFirstLayerComment){if(t>0)return e;t++}}return t>0?n.length:-1}(t);return-1!==i?(0,a.Z)(t.slice(0,i)).concat([e],(0,a.Z)(t.slice(i))):t};function En(n){var t,e=n.gravityId,i=n.rootPost,o=n.queryEnabled,r=void 0===o||o,m=n.commentDisplay,y=n.setCommentDisplay,C=n.postUserActionStateMap,Z=(0,u.useContext)(p.fL).isGravityApp,I=(0,f.qL)().language,L=(0,x.$G)("gravity-post").t,b=(0,k.jB)().recordPostImpressionInList,w="1"===(0,v.Bv)(g.$.Community_Ads_PostDetail,"community_ads_postdetail").result,j=(0,u.useRef)(e),P=(0,u.useState)(!1),D=P[0],R=P[1];(0,u.useEffect)((function(){if(e!==j.current&&C){var n=C.get(e)||{},t=n.showIrrelevantComment,i=void 0!==t&&t,o=n._commentDisplay,r=void 0===o?O.H.MostRelevant:o;R(i),null===y||void 0===y||y(r),j.current=e}return function(){null===C||void 0===C||C.set(e,{showIrrelevantComment:D,_commentDisplay:m})}}),[e,C,D,m,y]);var A=M({gravityId:e,commentDisplay:m},{staleTime:6e4,enabled:r}),_=A.data,F=A.isLoading,B=A.isFetchingNextPage,E=A.fetchNextPage,z=A.hasNextPage,q=S({language:I}),U=q.data,K=q.isLoading,V=q.isFetchingNextPage,Q=q.fetchNextPage,X=q.hasNextPage,$=(0,u.useMemo)((function(){return(null===_||void 0===_?void 0:_.pages)?(0,c.Z)((0,s.Z)(_.pages),(function(n){return n.gravityId||Math.random()})):[]}),[null===_||void 0===_?void 0:_.pages,m]),W=(0,u.useMemo)((function(){return(null===U||void 0===U?void 0:U.pages)?(0,c.Z)((0,s.Z)(U.pages).filter((function(n){return n.gravityId!==e})),(function(n){return n.gravityId})):[]}),[null===U||void 0===U?void 0:U.pages,e]),J=m===O.H.MostRelevant?null===(t=$.find((function(n){return void 0!==n.foldScore})))||void 0===t?void 0:t.foldScore:void 0,Y=void 0!==J&&m===O.H.MostRelevant?$.findIndex((function(n){return n.isFirstLayerComment&&void 0!==n.score&&n.score<J})):-1,nn=(0,u.useMemo)((function(){return m===O.H.MostRelevant&&-1!==Y?$.slice(0,Y):$}),[m,$,Y]),tn=(0,u.useMemo)((function(){return-1!==Y?$.slice(Y):[]}),[$,Y]),en=function(){if(F||K)return[];if(w){if(0===$.length)return[kn.NoData,kn.BSDAd,kn.TimelineTag].concat((0,a.Z)(W));if(m===O.H.Newest||m===O.H.MostRelevant&&(0===tn.length||D)){var n=Bn({list:$,AdFlag:kn.BSDAd});return z?n:(0,a.Z)(n).concat([kn.TimelineTag],(0,a.Z)(W))}if(nn.length>0){var t=Bn({list:nn,AdFlag:kn.BSDAd});return(0,a.Z)(t).concat([kn.LoadIrrelevantCommentBtn,kn.DivideLine,kn.TimelineTag],(0,a.Z)(W))}return[kn.LoadIrrelevantCommentBtn,kn.BSDAd,kn.TimelineTag].concat((0,a.Z)(W))}return 0===$.length?[kn.NoData,kn.DivideLine,kn.TimelineTag].concat((0,a.Z)(W)):m===O.H.Newest||m===O.H.MostRelevant&&(0===tn.length||D)?z?$:(0,a.Z)($).concat([kn.TimelineTag],(0,a.Z)(W)):(0,a.Z)(nn).concat([kn.LoadIrrelevantCommentBtn,kn.DivideLine,kn.TimelineTag],(0,a.Z)(W))},on=en().findIndex((function(n){return n===kn.TimelineTag})),rn=(0,u.useCallback)((function(n){var t=n.data,e=n.index;if(t.gravityId&&-1!==on&&e>on)return(0,l.jsx)(wn,{data:t});if(t.gravityId)return(0,l.jsx)(mn,{data:t,rootPost:i,commentDisplay:m});if(t.lastLayerGravityId)return(0,l.jsx)(Rn,{gravityId:t.lastLayerGravityId,rootId:i.gravityId,commentDisplay:m},t.lastLayerGravityId);switch(t){case kn.NoData:return(0,l.jsx)(Nn,{text:L("No comments yet",{ns:"gravity-post"})});case kn.DivideLine:return(0,l.jsx)(H.GL,{});case kn.TimelineTag:return(0,l.jsx)(_n,{});case kn.BSDAd:return(0,l.jsx)(G,{isGravityApp:Z});case kn.LoadIrrelevantCommentBtn:return(0,l.jsx)(Cn,{onClick:function(){R(!0)}})}}),[null===i||void 0===i?void 0:i.gravityId,m,on]);return{data:en(),isLoading:F||K,onReachBottom:function(){if(!B&&!V)return(m===O.H.Newest||m===O.H.MostRelevant&&0===tn.length||m===O.H.MostRelevant&&D)&&z?E():Q()},hasNextPage:z||X,itemRender:rn,endComponent:(0,l.jsx)(An,{}),loadingComp:(0,l.jsx)(d.ZP,{text:"Loading",spin:!0}),overscan:4,onItemIntersect:function(n,t){if((null===n||void 0===n?void 0:n.gravityId)&&(null===n||void 0===n?void 0:n.rootId)===(null===n||void 0===n?void 0:n.gravityId)&&b(n.gravityId),n===kn.BSDAd){var o=(0,T.Z)((function(){return i.owner.guid}),"");(0,h.nS)({category:"Gravity",action:"Community_Ads_Impression",json_data:{position:Z?"PostDetail Comments 2nd":"PostDetail Modal 2nd",user_id:o,post_id:e,origin:(0,N.G)(i.sourceType)}})}}}}function Gn(n){var t=n.gravityId,e=n.queryEnabled,i=void 0===e||e,o=((0,u.useContext)(p.fL).isGravityApp,(0,f.qL)().language),r=(0,x.$G)("gravity-post").t,v=(0,k.jB)().recordPostImpressionInList,g=(0,u.useMemo)((function(){return new y.WL(t)}),[t]).infinityQuery({staleTime:6e4,enabled:i}),h=g.data,C=g.isLoading,Z=g.isFetchingNextPage,I=g.fetchNextPage,L=g.hasNextPage,b=S({language:o}),w=b.data,j=b.isLoading,P=b.isFetchingNextPage,D=b.fetchNextPage,M=b.hasNextPage,T=(0,u.useMemo)((function(){return(null===h||void 0===h?void 0:h.pages)?(0,c.Z)((0,s.Z)(h.pages),(function(n){return n.gravityId})):[]}),[null===h||void 0===h?void 0:h.pages]),R=(0,u.useMemo)((function(){return(null===w||void 0===w?void 0:w.pages)?(0,c.Z)((0,s.Z)(w.pages),(function(n){return n.gravityId})):[]}),[null===w||void 0===w?void 0:w.pages]),N=function(){return C||j?[]:0===T.length?[kn.NoData,kn.DivideLine,kn.TimelineTag].concat((0,a.Z)(R)):L?T:(0,a.Z)(T).concat([kn.DivideLine,kn.TimelineTag],(0,a.Z)(R))},A=N().findIndex((function(n){return n===kn.TimelineTag})),_=(0,u.useCallback)((function(n){var t=n.data,e=n.index;if(t.gravityId){var i=(0,m.Z)(null===t||void 0===t?void 0:t.textContent)&&(0,m.Z)(null===t||void 0===t?void 0:t.photoIds);return-1!==A&&e>A?(0,l.jsx)(wn,{data:t}):(0,l.jsx)(mn,{data:i?Object.assign(t,{originalContent:'[[{"type":"text","content":"Repost"}]]',textContent:"Repost"}):t,withReplyMention:!1})}switch(t){case kn.NoData:return(0,l.jsx)(Nn,{text:r("No comments yet",{ns:"gravity-post"})});case kn.DivideLine:return(0,l.jsx)(H.GL,{});case kn.TimelineTag:return(0,l.jsx)(_n,{})}}),[A]);return{data:N(),isLoading:C||j,onReachBottom:function(){Z||P||(L?I():D())},hasNextPage:L||M,itemRender:_,endComponent:(0,l.jsx)(An,{}),loadingComp:(0,l.jsx)(d.ZP,{text:"Loading",spin:!0}),onItemIntersect:function(n,t){v(null===n||void 0===n?void 0:n.gravityId)}}}},35001:function(n,t,e){e.d(t,{Z:function(){return I}});var i=e(62230),o=e(85244),r=e(98240),a=e(75190),l=e(52322),u=e(78320),s=e(82740),c=e(87681),d=e(2784),v=e(1456),p=function(){var n=(0,d.useRef)(),t=(0,d.useRef)();return{isDoubleClick:(0,d.useCallback)((function(){var e=+new Date;return n.current&&e-n.current<300?(t.current=e,n.current=e,!0):(n.current=e,!1)}),[]),executeDoubleClickCb:(0,d.useCallback)((0,v.Z)((function(n){null===n||void 0===n||n()}),1e3,{leading:!0,trailing:!1}),[])}},f=e(1284),g=e(4977),m=e(38789);function h(){var n=(0,a.Z)(["\n    ","\n  "]);return h=function(){return n},n}function x(){var n=(0,a.Z)(["\n  margin-top: 12px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  > div {\n    flex-basis: 33%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  ",";\n  ","\n"]);return x=function(){return n},n}function y(){var n=(0,a.Z)(["\n  position: relative;\n  line-height: 40px;\n  span {\n    cursor: pointer;\n    user-select: none;\n  }\n\n  &.active {\n    font-weight: 600;\n    &::after {\n      position: absolute;\n      content: '';\n      left: 50%;\n      bottom: 0;\n      width: 24px;\n      height: 4px;\n      background: ",";\n      transform: translateX(-50%);\n      border-radius: 4px;\n    }\n  }\n"]);return y=function(){return n},n}var C=(0,s.ZP)(u.Z).withConfig({componentId:"sc-11ec35d3-0"})(x(),(0,c.CC)("margin-top: 0;font-size: 14px;"),(function(n){return(0,s.iv)(h(),n.stickyCss)})),Z=s.ZP.div.withConfig({componentId:"sc-11ec35d3-1"})(y(),m.colorBlue),I=function(n){var t=function(n){return(0,f.Z)(n)?n:null!==(t=null===n||void 0===n?void 0:n.label)&&void 0!==t?t:null===n||void 0===n?void 0:n.key;var t},e=n.list,a=void 0===e?[]:e,u=n.active,s=n.renderer,c=void 0===s?function(n){return String(n)}:s,d=n.onChangeTab,v=void 0===d?function(){}:d,m=(n.disabledIndex,n.stickyCss),h=n.onTabDoubleClick,x=void 0===h?function(){}:h,y=(0,r.Z)(n,["list","active","renderer","onChangeTab","disabledIndex","stickyCss","onTabDoubleClick"]),I=p(),L=I.isDoubleClick,b=I.executeDoubleClickCb,w=function(n,t,e){return(0,g.Z)(n)?n===t:(0,f.Z)(e)?Number(n)===t||n===c(e):(null===e||void 0===e?void 0:e.key)===n||(null===e||void 0===e?void 0:e.label)===n};return(0,l.jsx)(C,(0,o.Z)((0,i.Z)({},y),{stickyCss:m,children:a.map((function(n,e){return(0,l.jsx)(Z,{className:"community-tab-item ".concat(w(u,e,n)?"active":""),children:(0,l.jsx)("span",{onClick:function(){if(w(u,e,n)&&L())b(x);else if(!w(u,e,n)){var t,i=(0,f.Z)(n)?n:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:null===n||void 0===n?void 0:n.label;v(i,e)}},children:c(t(n))})},e)}))}))}},66366:function(n,t,e){e.d(t,{Z:function(){return l}});var i=e(62230),o=e(17064),r=e(52322),a=e(2784);function l(n){var t=n.children,e=n.rootMargin,l=void 0===e?"0px":e,u=n.threshold,s=void 0===u?1:u,c=n.height,d=void 0===c?void 0:c,v=n.PlaceHolder,p=n.skeleton,f=n.delay,g=void 0===f?0:f,m=n.enable,h=void 0===m||m,x=n.style,y=void 0===x?{}:x,C=(n.id,function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=(0,a.useState)(!t),u=l[0],s=l[1],c=(0,a.useRef)();return(0,a.useEffect)((function(){if(t&&r){if("undefined"===typeof window.IntersectionObserver||!c.current)return s(!0);var a,l=function(){s(!0),d.disconnect()},u=function(n){if(!(0,o.Z)(n,1)[0].isIntersecting)return clearTimeout(a),void(a=null);a||(null!=i&&i>0?a=setTimeout((function(){l()}),i):l())},d=new IntersectionObserver(u,{rootMargin:n,threshold:e});return d.observe(c.current),function(){return d.disconnect()}}}),[r]),{ref:c,revealed:u}}(l,!0,s,g,h)),Z=C.ref;return C.revealed?t:(0,r.jsx)("div",{ref:Z,style:(0,i.Z)({height:d},y),children:p||(v?(0,r.jsx)(v,{}):" ")})}},20025:function(n,t,e){e.d(t,{ZP:function(){return h},jB:function(){return m}});var i=e(62230),o=e(81541),r=e(2784),a=e(82066),l=e(7279),u=e(30710),s=e(15798),c=e.n(s),d=e(55790),v=e(78225),p=function(n){var t=function(n){var t=new RegExp(/^\d+$/);return(0,d.Z)((function(){return n.filter((function(n){return t.test(n.gravityId)}))}),[])}(n);if(!(0,l.Z)(t))return(0,v.zh)({baseURL:"".concat(c().env.endpoints.javaApi,"/gravity"),url:"/v3/gravity/counter",method:"POST",data:{postIds:t.map((function(n){return n.gravityId})),posts:t.map((function(n){return{id:n.gravityId,bucketFrom:n.bucketFrom}}))},suppressWarning:!0}).catch((function(){}))},f=[],g=null,m=function(){var n=(0,u.Ff)(),t=n.isRecordPostImpression,e=n.isLoading,o=(0,r.useRef)(!1),a=(0,r.useRef)(null),l=(0,r.useRef)([]),s=(0,r.useRef)(),c=function(n){(function(n){var t=Date.now();return!!(s.current&&t-s.current<1e4&&l.current.find((function(t){return t.gravityId===n})))})(n.gravityId)||(f.push(n),null===g&&(g=setInterval((function(){0!==f.length&&(p(f),f=[])}),1e4)))};(0,r.useEffect)((function(){!e&&t&&l.current.length>0&&(o.current=!0,s.current=Date.now(),p(l.current))}),[e]);return{recordPostImpressionInList:function(n,r){if(n){var u=(0,i.Z)({gravityId:n},r);if(e)l.current.push(u);else{if(!t)return;o.current?c(u):(l.current.push(u),null===a.current&&(a.current=setTimeout((function(){o.current=!0,s.current=Date.now(),p(l.current)}),100)))}}}}},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.Ff)(),e=t.isRecordPostImpression,s=t.isLoading,c=(0,r.useState)([]),d=c[0],v=c[1];return(0,r.useEffect)((function(){!s&&e&&d.length>0&&p(d)}),[s]),(0,a.useMutation)((function(n){if(!(0,l.Z)(n))return s?void v((function(t){return(0,o.Z)(t).concat((0,o.Z)(n))})):e&&p(n)}),(0,i.Z)({},n))}},61210:function(n,t,e){var i=e(62230),o=e(85244),r=e(52322),a=(e(2784),e(69591));t.Z=function(n){return(0,r.jsx)(a.Z,(0,o.Z)((0,i.Z)({fill:"none"},n),{children:(0,r.jsx)("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})}))}}}]);